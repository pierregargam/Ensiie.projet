@model Ensiie.projet3.Models.Message_

@{
    ViewBag.Title = "Create";
           
}

    <h2>Create Message</h2>
    <h3>Vous devez saisir au moins 10 lettres</h3>

    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

    @if ((HttpContext.Current.Session["id"] != null) && (HttpContext.Current.Session["id_theme"] != null))
    {
        using (Html.BeginForm())
        {
            @Html.ValidationSummary(true)
        <fieldset>
            <legend>Message_</legend>
                      
            <div class="editor-label">
                @Html.LabelFor(model => model.texte)
            </div>
            <div class="editor-field">
                @Html.TextAreaFor(model => model.texte)
                @Html.ValidationMessageFor(model => model.texte)
            </div>

            @Html.HiddenFor(model => model.theme_id, new { Value = HttpContext.Current.Session["id_theme"] })
            @Html.HiddenFor(model => model.collaborateur_id, new { Value = HttpContext.Current.Session["id"] })
            @Html.HiddenFor(model => model.dating, new { Value = DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss") })

            <p>
                <input type="submit" value="Create" />
            </p>
        </fieldset>
        }
    }
    <div>
        @Html.ActionLink("Retour à la liste des messages", "Index", new { id = HttpContext.Current.Session["id_theme"] })
    </div>
