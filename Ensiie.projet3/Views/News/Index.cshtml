@model IEnumerable<Ensiie.projet3.Models.News_>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>


<p>
    @if (HttpContext.Current.Session["id"] != null)
    {
        @Html.ActionLink("Ajouter une nouvelle", "Create", new { id = HttpContext.Current.Session["id"] })
    }
</p>

@if (Model.Count() != 0)
{
    <table>
    <tr>
        <th>
            Nouvelle
        </th>
        <th>Agent</th>
        <th>Supression</th>
    </tr>


@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.texte)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Agent.name)
        </td>
        <td>
            @Html.ActionLink("Delete", "Delete", new { id = item.id })
        </td>
    </tr>
}

</table>
}
else
{
    <p>Il n'y a aucune nouvelle.</p>
}